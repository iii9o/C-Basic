# C++ 基础

### 引用

1.应用必须初始化

2.初始化后不可更改

引用作为返回值时：不可以返回局部变量的引用，引用可以作为左值；

引用的本质是一个指针常量 eg. int* const ref  = &r;

## 类与对象

类：类中的属性和行为统称为成员
       属性：：成员属性，成员变量
       行为：：成员函数，成员方法

对象：实例化对象

封装：将属性和行为结合在一起来表现事务

访问权限:

public  类内类外可以访问
protected 类内可以访问，类外不能访问 子类可访问父类
private    类内可以访问，类外不能访问 子类不可访问父类

class 和 struct 唯一的区别在于默认的访问权限不同，struct默认访问权限为公共，class默认访问权限为私有

成员属性私有化：将所有成员属性设置为私有，便于自己控制，同时可以检测数据的有效性。

构造函数：创建对象时为对象赋值,由编译器自动调用

析构函数：对象销毁前系统自动调用，执行某些清理操作

若不创建构造与析构函数，编译器提供空实现。自己写析构函数用于释放用户自己创建的堆数据 eg.    

```c++ 
	~Person() {
		//将堆区开辟的数据进行释放
		if (height != NULL) {
			delete height;
			height = NULL;
		}
		cout << "析构函数调用" << endl;
	}
```

浅拷贝会导致在堆区创建的内存二次释放，需要进行深拷贝来防止二次释放，保证每次释放的内存指向不同的内存

```c++
	int age;
	int* height; //指针指向身高
	Person(const Person& p) {
		cout << "person拷贝构造函数调用" << endl;
		age = p.age;
		//height = p.height; 编译器自动生成的浅拷贝格式
		height = new int(*p.height);  //深拷贝解决浅拷贝
	}
```
